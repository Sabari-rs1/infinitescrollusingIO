{"ast":null,"code":"import _toConsumableArray from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\newapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.ref=React.createRef();_this.state={url:[]};_this.observer=null;return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.observer=new IntersectionObserver(function(_ref){var _ref2=_slicedToArray(_ref,1),e=_ref2[0];if(e.intersectionRatio>0){_this2.getNewImage();}},{threshold:1});this.observer.observe(this.ref.current);}},{key:\"getNewImage\",value:function getNewImage(){var newimgurl=\"https://picsum.photos/200/300\";var arr=[].concat(_toConsumableArray(this.state.url),[newimgurl]);this.setState({url:arr});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Infinite Scroll using IO\"),/*#__PURE__*/React.createElement(\"div\",null,this.state.url.map(function(url,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,newref:function newref(input){_this3.divitem=input;}},/*#__PURE__*/React.createElement(\"img\",{src:url,style:{height:\"800px\",width:\"100%\"},alt:\"img not loaded\"}));})),/*#__PURE__*/React.createElement(\"footer\",{ref:this.ref},\"Loading\"));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/newapp/src/App.jsx"],"names":["React","Component","App","ref","createRef","state","url","observer","IntersectionObserver","e","intersectionRatio","getNewImage","threshold","observe","current","newimgurl","arr","setState","map","index","input","divitem","height","width"],"mappings":"4xBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,C,GAGMC,CAAAA,G,0FACF,cACA,qCACI,wBADJ,MASAC,GATA,CASMH,KAAK,CAACI,SAAN,EATN,CAEI,MAAKC,KAAL,CAAa,CACTC,GAAG,CAAG,EADG,CAAb,CAGA,MAAKC,QAAL,CAAgB,IAAhB,CALJ,aAOC,C,6EAMD,iBACI,KAAKA,QAAL,CAAgB,GAAIC,CAAAA,oBAAJ,CAAyB,cAAQ,kCAANC,CAAM,UAEjD,GAAIA,CAAC,CAACC,iBAAF,CAAoB,CAAxB,CACA,CACI,MAAI,CAACC,WAAL,GACH,CAAC,CALc,CAMhB,CACIC,SAAS,CAAG,CADhB,CANgB,CAAhB,CASA,KAAKL,QAAL,CAAcM,OAAd,CAAsB,KAAKV,GAAL,CAASW,OAA/B,EACH,C,iDAID,CACC,GAAMC,CAAAA,SAAS,CAAC,+BAAhB,CACD,GAAMC,CAAAA,GAAG,8BAAO,KAAKX,KAAL,CAAWC,GAAlB,GAAsBS,SAAtB,EAAT,CACA,KAAKE,QAAL,CAAc,CAACX,GAAG,CAAGU,GAAP,CAAd,EACC,C,uCAID,iBACI,mBACI,4CACA,yDADA,cAIA,+BAEI,KAAKX,KAAL,CAAWC,GAAX,CAAeY,GAAf,CAAmB,SAACZ,GAAD,CAAKa,KAAL,CACnB,CACA,mBAAQ,2BAAK,GAAG,CAAGA,KAAX,CAAmB,MAAM,CAAE,gBAACC,KAAD,CAAS,CAAC,MAAI,CAACC,OAAL,CAAaD,KAAb,CAAmB,CAAxD,eACJ,2BAAK,GAAG,CAAKd,GAAb,CAAoB,KAAK,CAAE,CAACgB,MAAM,CAAC,OAAR,CAAgBC,KAAK,CAAC,MAAtB,CAA3B,CAA2D,GAAG,CAAG,gBAAjE,EADI,CAAR,CAGC,CALD,CAFJ,CAJA,cAeA,8BAAQ,GAAG,CAAE,KAAKpB,GAAlB,YAfA,CADJ,CAqBH,C,iBA5DaF,S,EAgElB,cAAeC,CAAAA,GAAf","sourcesContent":["import React, {Component} from 'react'\n\n\nclass App extends Component{\n    constructor()\n    {\n        super();\n        this.state = {\n            url : []\n        }\n        this.observer = null;\n        \n    }\n    \n    ref = React.createRef();\n   \n\n    componentDidMount()\n    {\n        this.observer = new IntersectionObserver(([e]) =>{\n        \n        if (e.intersectionRatio>0)\n        {\n            this.getNewImage();     \n        }},\n        {\n            threshold : 1\n        });\n        this.observer.observe(this.ref.current) ;\n    }\n\n\n    getNewImage()\n    {\n     const newimgurl=\"https://picsum.photos/200/300\";           \n    const arr = [...this.state.url,newimgurl]\n    this.setState({url : arr});   \n    }\n\n\n    render()\n    {\n        return (\n            <div>\n            <h1>\n                Infinite Scroll using IO\n            </h1>\n            <div>\n             {\n                this.state.url.map((url,index) =>\n                {\n                return (<div key={ index } newref={(input)=>{this.divitem=input}}>\n                    <img src = { url }  style={{height:\"800px\",width:\"100%\" }} alt = \"img not loaded\"/>\n                </div>)\n                }\n                )\n            }\n            </div>\n            <footer ref={this.ref}>\n                Loading\n            </footer>\n            </div>\n        )\n    }\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}